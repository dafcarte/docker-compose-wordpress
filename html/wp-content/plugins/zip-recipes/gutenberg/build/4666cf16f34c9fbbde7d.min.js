!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/gutenberg/blocks/recipe.jsx")}({"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(e,t){function l(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(o){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=o.apply(e,s);function i(e){l(r,t,n,i,a,"next",e)}function a(e){l(r,t,n,i,a,"throw",e)}i(void 0)})}}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/objectSpread.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js");e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},"./src/gutenberg/blocks/author.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Author",function(){return r});var r=function(e){return"Gizmo author"}},"./src/gutenberg/blocks/components.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"TitleAndImage",function(){return l}),n.d(t,"Ingredients",function(){return c}),n.d(t,"Instructions",function(){return u}),n.d(t,"CategoryAndCuisine",function(){return m}),n.d(t,"Description",function(){return p}),n.d(t,"PrepAndCookTime",function(){return d}),n.d(t,"Notes",function(){return g}),n.d(t,"ServingsAndSize",function(){return h}),n.d(t,"Calories",function(){return f}),n.d(t,"Carbs",function(){return b}),n.d(t,"Protein",function(){return E}),n.d(t,"Fiber",function(){return v}),n.d(t,"Sugar",function(){return C}),n.d(t,"Sodium",function(){return w}),n.d(t,"Fat",function(){return N}),n.d(t,"SaturatedFat",function(){return S}),n.d(t,"TransFat",function(){return _}),n.d(t,"Cholesterol",function(){return z});var r=window.wp.editor,i=(r.RichText,r.PlainText,r.MediaUpload),a=r.MediaUploadCheck,s=(r.InspectorControls,r.BlockControls,r.AlignmentToolbar,window.wp.components),o=s.Button,l=(s.Modal,function(n){return wp.element.createElement("div",{className:n.className},wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile"},wp.element.createElement("div",{className:"zrdn-column zrdn-is-three-quarters-tablet zrdn-is-two-thirds-mobile"},wp.element.createElement("div",{className:"zrdn-field"},n.isTitleEditable?wp.element.createElement("label",{htmlFor:"recipe-title",className:"zrdn-label"},"Title"):"",wp.element.createElement("div",{className:"zrdn-control",id:"title-container"},n.isTitleEditable?wp.element.createElement("input",{id:"recipe-title",name:"recipe-title",className:"zrdn-input",type:"text",value:n.title,onChange:n.onTitleChange,placeholder:"Recipe Titleâ€¦"}):wp.element.createElement("h2",null,n.title)))),wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("label",{className:"zrdn-label"},"Image"),wp.element.createElement("div",{className:"recipe-image"},n.isImageEditable?wp.element.createElement(a,null,wp.element.createElement(i,{onSelect:n.onImageChange.bind(null,n.recipeId),allowedTypes:"image",render:function(e){var t=e.open;return n.imageUrl?wp.element.createElement("div",null,n.isFeaturedPostImage?wp.element.createElement("span",null,"Set from Featured Image."):wp.element.createElement("div",null,wp.element.createElement(o,{onClick:t},wp.element.createElement("img",{src:n.imageUrl,alt:"Upload Recipe Image"})),wp.element.createElement("span",null,"Click the image to change it."))):wp.element.createElement(o,{isDefault:!0,onClick:t},"Upload Image")}})):"To add an image, save this recipe and click Upload Image from the main screen."))))}),c=function(e){return wp.element.createElement("div",{id:"ingredients-container",className:"zrdn-field"},wp.element.createElement("label",{className:"zrdn-label",htmlFor:"ingredients"},"Ingredients"),e.editable?wp.element.createElement("p",{className:"zrdn-help"},"Put each ingredient on a separate line. There is no need to use bullets for your ingredients.",wp.element.createElement("br",null),"You can also create labels, hyperlinks, bold/italic effects and even add images!",wp.element.createElement("br",null),wp.element.createElement("a",{href:"https://www.ziprecipes.net/docs/installing/",target:"_blank"},"Learn how here")):"",wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("textarea",{className:"zrdn-textarea clean-on-paste",name:"ingredients",onChange:e.onIngredientsChange,onPaste:e.onIngredientsPaste,id:"ingredients",value:e.ingredients.join("\n")}):wp.element.createElement("div",null,e.ingredients.map(function(e){return wp.element.createElement("div",null,e)}))))},u=function(e){return wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{className:"zrdn-label",htmlFor:"instructions"},"Instructions"),e.editable?wp.element.createElement("p",{className:"zrdn-help"},"Press return after each instruction. There is no need to number your instructions.",wp.element.createElement("br",null),"You can also create labels, hyperlinks, bold/italic effects and even add images!",wp.element.createElement("br",null),wp.element.createElement("a",{href:"https://www.ziprecipes.net/docs/installing/",target:"_blank"},"Learn how here")):"",wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("textarea",{className:"zrdn-textarea clean-on-paste",id:"instructions",onChange:e.onInstructionsChange,name:"instructions",onPaste:e.onInstructionsPaste,value:e.instructions.join("\n")}):wp.element.createElement("div",null,e.instructions.map(function(e){return wp.element.createElement("div",null,e)}))))},m=function(e){return wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile"},wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"category",className:"zrdn-label"},"Category"),wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",id:"category",onChange:e.onCategoryChange,placeholder:"e.g. appetizer, entree, etc.",type:"text",name:"category",value:e.category}):e.category))),wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"cuisine",className:"zrdn-label"},"Cuisine"),wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",placeholder:"e.g. French, Ethiopian, etc.",onChange:e.onCuisineChange,type:"text",id:"cuisine",name:"cuisine",value:e.cuisine}):e.cuisine))))},p=function(e){return wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{className:"zrdn-label",htmlFor:"summary"},"Description"),wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("textarea",{className:"zrdn-textarea",id:"summary",name:"summary",onChange:e.onDescriptionChange,value:e.description}):e.description))},d=function(e){return wp.element.createElement("div",{className:"zrdn-columns zrdn-is-tablet"},wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("label",{htmlFor:"prep_hours",className:"zrdn-label"},"Prep Time"),e.editable?wp.element.createElement("div",{className:"zrdn-field zrdn-is-grouped"},wp.element.createElement("div",null,wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"number",min:"0",id:"prep_hours",onChange:e.onPrepTimeHoursChange,name:"prep_time_hours",value:e.prepTimeHours}),"hours"),wp.element.createElement("div",null,wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"number",min:"0",id:"prep_minutes",onChange:e.onPrepTimeMinutesChange,name:"prep_time_minutes",value:e.prepTimeMinutes}),"minutes")):wp.element.createElement("div",{className:"zrdn-control"},e.prepTimeHours,":",e.prepTimeMinutes)),wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("label",{htmlFor:"cook_hours",className:"zrdn-label"},"Cook Time"),e.editable?wp.element.createElement("div",{className:"zrdn-field zrdn-is-grouped"},wp.element.createElement("div",null,wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"number",min:"0",onChange:e.onCookTimeHoursChange,id:"cook_hours",name:"cook_time_hours",value:e.cookTimeHours}),"hours"),wp.element.createElement("div",null,wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"number",min:"0",id:"cook_minutes",onChange:e.onCookTimeMinutesChange,name:"cook_time_minutes",value:e.cookTimeMinutes}),"minutes")):wp.element.createElement("div",{className:"zrdn-control"},e.cookTimeHours,":",e.cookTimeMinutes)))},g=function(e){return wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{className:"zrdn-label",htmlFor:"notes"},"Notes"),wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("textarea",{className:"zrdn-textarea",id:"notes",name:"notes",onChange:e.onNotesChange,value:e.notes}):e.notes))},h=function(e){return wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile"},wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"servings",className:"zrdn-label"},"Yields"),wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",id:"servings",onChange:e.onServingsChange,placeholder:"e.g. 8 people",type:"text",name:"servings",value:e.servings}):e.servings))),wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"servingSize",className:"zrdn-label"},"Serving Size"),wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",placeholder:"1 slice",onChange:e.onServingSizeChange,type:"text",id:"servingSize",name:"servingSize",value:e.servingSize}):e.servingSize))))},f=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"calories"},"Calories")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"calories",name:"calories",onChange:e.onCaloriesChange,value:e.calories}):e.calories))))},b=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"carbs"},"Carbs")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"carbs",name:"carbs",onChange:e.onCarbsChange,value:e.carbs}):e.carbs))))},E=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal zrdn-is-mobile"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"protein"},"Protein")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"protein",name:"protein",onChange:e.onProteinChange,value:e.protein}):e.protein))))},v=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"fiber"},"Fiber")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"fiber",name:"fiber",onChange:e.onFiberChange,value:e.fiber}):e.fiber))))},C=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"sugar"},"Sugar")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"sugar",name:"sugar",onChange:e.onSugarChange,value:e.sugar}):e.sugar))))},w=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"sodium"},"Sodium")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"sodium",name:"sodium",onChange:e.onSodiumChange,value:e.sodium}):e.sodium))))},N=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"fat"},"Fat")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"fat",name:"fat",onChange:e.onFatChange,value:e.fat}):e.fat))))},S=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"saturated_fat"},"Saturated Fat")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"saturated_fat",name:"saturated_fat",onChange:e.onSaturatedFatChange,value:e.saturatedFat}):e.saturatedFat))))},_=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"trans_fat"},"Trans. Fat")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"trans_fat",name:"trans_fat",onChange:e.onTransFatChange,value:e.transFat}):e.transFat))))},z=function(e){return wp.element.createElement("div",{className:"zrdn-field zrdn-is-horizontal"},wp.element.createElement("div",{className:"zrdn-field-label"},wp.element.createElement("label",{className:"zrdn-label",for:"cholesterol"},"Cholesterol")),wp.element.createElement("div",{className:"zrdn-field-body"},wp.element.createElement("div",{className:"zrdn-field zrdn-is-narrow"},wp.element.createElement("div",{className:"zrdn-control"},e.editable?wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",type:"text",id:"cholesterol",name:"cholesterol",onChange:e.onCholesterolChange,value:e.cholesterol}):e.cholesterol))))}},"./src/gutenberg/blocks/nutrition_calculator.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"onCalculateNutrition",function(){return s});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),p=n.n(r),i=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=n.n(i),s=function(){var t=a()(regeneratorRuntime.mark(function e(t){var n,r,i,a,s,o,l,c,u,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(creators.setNutritionCalculationError(""),n=store.getIngredients(),r=n.map(function(e){return{text:e}}),i=store.getTitle(),a=store.getServings(),s=store.getServingSize(),o=store.getSettings(),l=o.locale,i){e.next=10;break}return e.abrupt("return",creators.setNutritionCalculationError("Please enter a recipe title"));case 10:if(r){e.next=12;break}return e.abrupt("return",creators.setNutritionCalculationError("Please enter a list of ingredients"));case 12:if(a){e.next=14;break}return e.abrupt("return",creators.setNutritionCalculationError("Please enter the number of servings in the Yield field"));case 14:if(c=o.registered,creators.setCalculatingNutrition(),c&&p()(c)===p()([])){e.next=21;break}return creators.setCalculatingNutritionSuccess(),e.abrupt("return",creators.setNutritionCalculationError('Go to Zip Recipes > Automatic Nutrition to finish the setup. For more info, <a href="https://www.ziprecipes.net/docs/automatic-nutrition/" target="_blank">click here</a>.'));case 21:if(c&&c.token){e.next=24;break}return creators.setCalculatingNutritionSuccess(),e.abrupt("return",creators.setNutritionCalculationError("Could not get authorization token. Please email us: <a href='mailto:hello@ziprecipes.net'>hello@ziprecipes.net</a>"));case 24:return u={},e.prev=25,e.next=28,creators.fetchNutritionData(o.recipes_endpoint,c.token,i.trim(),r,a.trim(),s,l);case 28:u=e.sent,creators.setCalories(u.nutrition.Energy),creators.setCarbs(u.nutrition.Carbs),creators.setProtein(u.nutrition.Protein),creators.setFiber(u.nutrition.Fiber),creators.setSugar(u.nutrition.Sugars),creators.setSodium(u.nutrition.Sodium),creators.setFat(u.nutrition.Fat),creators.setSaturatedFat(u.nutrition.Saturated),creators.setTransFat(u.nutrition.Trans),creators.setCholesterol(u.nutrition.Cholesterol),e.next=45;break;case 41:return e.prev=41,e.t0=e.catch(25),creators.setCalculatingNutritionSuccess(),e.abrupt("return",creators.setNutritionCalculationError("Error getting nutrition data from Zip Recipes Services: ".concat(e.t0.message)));case 45:return m={},e.prev=46,e.next=49,creators.saveNutritionLabel(store.getSettings().wp_ajax_endpoint,u.nutrition_label_url,store.getTitle());case 49:m=e.sent,e.next=56;break;case 52:return e.prev=52,e.t1=e.catch(46),creators.setCalculatingNutritionSuccess(),e.abrupt("return",creators.setNutritionCalculationError("Error saving nutrition label to WordPress: ".concat(e.t1.message)));case 56:creators.setNutritionLabelUrl(m.nutrition_label_wp_url),creators.setNutritionLabelAttachmentId(m.nutrition_label_attachment_id),creators.setCalculatingNutritionSuccess();case 59:case"end":return e.stop()}},e,this,[[25,41],[46,52]])}));return function(e){return t.apply(this,arguments)}}()},"./src/gutenberg/blocks/recipe.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),m=n.n(r),i=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=n.n(i),s=wp.i18n.__,o=wp.blocks.registerBlockType,p=(n("./src/gutenberg/store/zip-recipes-store.jsx").actions,n("./src/gutenberg/blocks/nutrition_calculator.jsx").onCalculateNutrition),l=n("./src/gutenberg/blocks/author.jsx").Author,c=n("./src/gutenberg/blocks/components.jsx"),u=c.TitleAndImage,d=c.Ingredients,g=c.Instructions,h=c.CategoryAndCuisine,f=c.Description,b=c.PrepAndCookTime,E=c.Notes,v=c.ServingsAndSize,C=c.Calories,w=c.Carbs,N=c.Protein,S=c.Fiber,_=c.Sugar,z=c.Sodium,T=c.Fat,y=c.SaturatedFat,I=c.TransFat,F=c.Cholesterol,R=wp.compose.withState,x=(window.wp.blocks,window.wp.editor,window.wp.i18n,window.wp.element,window.wp.components,window._,wp.components),k=x.Button,P=x.Modal,A=(x.Icon,x.Spinner,wp.element.createElement,wp.element.Fragment,wp.data),U=(A.registerStore,A.withSelect),O=A.withDispatch,M=A.select;o("zip-recipes/recipe-block",{title:s("Zip Recipes"),description:s("Create a recipe card."),icon:{src:"carrot",foreground:"#4AB158"},category:"widgets",keywords:[s("Zip Recipes"),s("Recipe"),s("Recipe Card")],attributes:{id:{type:"string"}},supports:{reusable:!1,multiple:!1},edit:O(function(e,t){var r,n,s,o=e("zip-recipes-store"),l=M("core/editor").getCurrentPost,c=M("zip-recipes-store"),u=e("core/notices"),i={onRegister:(s=a()(regeneratorRuntime.mark(function e(t,n,r,i,a,s){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setIsRegistering(),e.next=3,o.register(t,n,r,i,a,s);case 3:return e.next=5,o.setRegisteredBackend(n,r,i);case 5:o.setIsRegisteringSuccess();case 6:case"end":return e.stop()}},e,this)})),function(e,t,n,r,i,a){return s.apply(this,arguments)}),setInitialTitle:function(){o.setTitle(l().title)},onTitleChange:function(e){var t=e.target.value;o.setTitle(t)},onImageChange:(n=a()(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.url,o.setImageUrl(r),t)return e.prev=3,e.next=6,o.saveImage(t,r);e.next=14;break;case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),u.createErrorNotice("Failed to set image on recipe recipe id: ".concat(t)),console.log("Failed to set image on recipe recipe id:",t,". Error:",e.t0);case 12:e.next=16;break;case 14:u.createErrorNotice("No recipe id present. Did you save the recipe?"),console.log("Image saved on a recipe that has no id yet.");case 16:case"end":return e.stop()}},e,this,[[3,8]])})),function(e,t){return n.apply(this,arguments)}),onIngredientsChange:function(e){var t=e.target.value;o.setIngredients(t)},onIngredientsPaste:function(){window.setTimeout(function(){for(var e=c.getIngredients(),t=[],n=0;n<e.length;n++)/\S/.test(e[n])&&t.push($.trim(e[n]));o.setIngredients(t)},500)},onInstructionsChange:function(e){var t=e.target.value;o.setInstructions(t)},onInstructionsPaste:function(){window.setTimeout(function(){for(var e=c.getInstructions(),t=[],n=0;n<e.length;n++)/\S/.test(e[n])&&t.push($.trim(e[n]));o.setInstructions(t)},500)},onAuthorChange:function(e){var t=e.target.value;o.setAuthor(t)},onCategoryChange:function(e){var t=e.target.value;o.setCategory(t)},onCuisineChange:function(e){var t=e.target.value;o.setCuisine(t)},onDescriptionChange:function(e){var t=e.target.value;o.setDescription(t)},onPrepTimeHoursChange:function(e){var t=e.target.value;o.setPrepTimeHours(t)},onPrepTimeMinutesChange:function(e){var t=e.target.value;o.setPrepTimeMinutes(t)},onCookTimeHoursChange:function(e){var t=e.target.value;o.setCookTimeHours(t)},onCookTimeMinutesChange:function(e){var t=e.target.value;o.setCookTimeMinutes(t)},onNotesChange:function(e){var t=e.target.value;o.setNotes(t)},onServingsChange:function(e){var t=e.target.value;o.setServings(t)},onServingSizeChange:function(e){var t=e.target.value;o.setServingSize(t)},onCaloriesChange:function(e){var t=e.target.value;o.setCalories(t)},onCarbsChange:function(e){var t=e.target.value;o.setCarbs(t)},onProteinChange:function(e){var t=e.target.value;o.setProtein(t)},onFiberChange:function(e){var t=e.target.value;o.setFiber(t)},onSugarChange:function(e){var t=e.target.value;o.setSugar(t)},onSodiumChange:function(e){var t=e.target.value;o.setSodium(t)},onFatChange:function(e){var t=e.target.value;o.setFat(t)},onSaturatedFatChange:function(e){var t=e.target.value;o.setSaturatedFat(t)},onTransFatChange:function(e){var t=e.target.value;o.setTransFat(t)},onCholesterolChange:function(e){var t=e.target.value;o.setCholesterol(t)},onCancel:function(e){e({isOpen:!1})},onSave:(r=a()(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i={post_id:l().id,title:c.getTitle(),category:c.getCategory(),cuisine:c.getCuisine(),description:c.getDescription(),author:c.getAuthor(),notes:c.getNotes(),ingredients:c.getIngredients(),instructions:c.getInstructions(),image_url:c.getImageUrl(),prep_time_hours:c.getPrepTimeHours(),prep_time_minutes:c.getPrepTimeMinutes(),cook_time_hours:c.getCookTimeHours(),cook_time_minutes:c.getCookTimeMinutes(),serving_size:c.getServingSize(),servings:c.getServings(),nutrition_label:c.getNutritionLabelUrl(),nutrition_label_attachment_id:c.getNutritionLabelAttachmentId(),nutrition:{calories:c.getCalories(),carbs:c.getCarbs(),protein:c.getProtein(),fiber:c.getFiber(),sugar:c.getSugar(),sodium:c.getSodium(),fat:c.getFat(),saturated_fat:c.getSaturatedFat(),trans_fat:c.getTransFat(),cholesterol:c.getCholesterol()}},r)return e.prev=2,o.setRecipeSaving(),e.next=6,o.saveRecipe({recipe:m()({},i,{id:r})});e.next=16;break;case 6:o.saveRecipeSuccess(),n({isOpen:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),u.createErrorNotice("Failed to update recipe id: ".concat(r)),console.log("Failed to update recipe id:",r,". Error:",e.t0);case 14:e.next=30;break;case 16:return e.prev=16,o.setRecipeSaving(),e.next=20,o.saveRecipe({recipe:m()({},i),create:!0});case 20:a=e.sent,o.saveRecipeSuccess(),t({id:a.id}),n({isOpen:!1}),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(16),u.createErrorNotice("Failed to create recipe"),console.log("Failed to create new recipe:",e.t1);case 30:case"end":return e.stop()}},e,this,[[2,10],[16,26]])})),function(e,t,n){return r.apply(this,arguments)})};return i.onCalculateNutrition=p,i})(U(function(e,t){var n=e("zip-recipes-store"),r=e("core/editor").getCurrentPost;return{id:n.getId(),recipe:n.getRecipe(t.attributes.id),title:n.getTitle(),postTitle:r().title,imageUrl:n.getImageUrl(),isFeaturedPostImage:n.getIsFeaturedPostImage(),category:n.getCategory(),cuisine:n.getCuisine(),description:n.getDescription(),author:n.getAuthor(),notes:n.getNotes(),ingredients:n.getIngredients(),instructions:n.getInstructions(),prepTimeHours:n.getPrepTimeHours(),prepTimeMinutes:n.getPrepTimeMinutes(),cookTimeHours:n.getCookTimeHours(),cookTimeMinutes:n.getCookTimeMinutes(),servings:n.getServings(),servingSize:n.getServingSize(),calories:n.getCalories(),carbs:n.getCarbs(),protein:n.getProtein(),fiber:n.getFiber(),sugar:n.getSugar(),sodium:n.getSodium(),fat:n.getFat(),saturatedFat:n.getSaturatedFat(),transFat:n.getTransFat(),cholesterol:n.getCholesterol(),isSaving:n.getIsSaving(),isFetching:n.getIsFetching(),settings:n.getSettings(),isRegistering:n.getIsRegistering(),nutritionCalculationError:n.getNutritionCalculationError(),nutritionLabelUrl:n.getNutritionLabelUrl(),isNutritionCalculating:n.getIsNutritionCalculation(),promos:n.getPromos(n.getSettings().promos_endpoint,n.getSettings().blog_url)}})(R({isOpen:!1,firstName:"",lastName:"",email:"",showNutritionFields:!1,showNutritionPromo:!1,showAuthorPromo:!1})(function(n){var e=n.isNutritionCalculating?"zrdn-button zrdn-is-primary zrdn-is-loading":"zrdn-button zrdn-is-primary";return wp.element.createElement("div",null,n.settings.registered?"":wp.element.createElement("div",{style:{backgroundColor:"rgb(246, 243, 251)",padding:"20px",marginBo:"20px"}},wp.element.createElement("h2",null,"Register Zip Recipes Free"),wp.element.createElement("small",null,"Please register your plugin so we can email you news about updates to Zip Recipes, including tips and tricks on how to use it. Registering also helps us troubleshoot any problems you may encounter. When you register, we will automatically receive your blog's web address, WordPress version, and names of installed plugins."),wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile"},wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"first-name",className:"zrdn-label"},"First name"),wp.element.createElement("div",{className:"zrdn-control"},wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",id:"first-name",onChange:function(e){var t=e.target.value;return n.setState({firstName:t})},type:"text",name:"first-name",value:n.firstName})))),wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"last-name",className:"zrdn-label"},"Last name"),wp.element.createElement("div",{className:"zrdn-control"},wp.element.createElement("input",{className:"zrdn-input zrdn-is-small",onChange:function(e){var t=e.target.value;return n.setState({lastName:t})},type:"text",id:"last-name",name:"last-name",value:n.lastName}))))),wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile"},wp.element.createElement("div",{className:"zrdn-column"},wp.element.createElement("div",{className:"zrdn-field"},wp.element.createElement("label",{htmlFor:"recipe-title",className:"zrdn-label"},"Email"),wp.element.createElement("div",{className:"zrdn-control",id:"title-container"},wp.element.createElement("input",{id:"recipe-title",name:"recipe-title",className:"zrdn-input",type:"email",value:n.email,onChange:function(e){var t=e.target.value;return n.setState({email:t})}}))))),wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile zrdn-is-pulled-right zrdn-is-clearfix"},wp.element.createElement(k,{isPrimary:!0,isBusy:n.isRegistering,onClick:n.onRegister.bind(null,n.settings.registration_endpoint,n.firstName,n.lastName,n.email,n.settings.wp_version,n.settings.blog_url)},"Register"))),n.attributes.id?wp.element.createElement(k,{isPrimary:!0,isLarge:!0,isBusy:n.isFetching,disabled:n.isFetching,onClick:n.isFetching?function(){}:function(){return n.setState({isOpen:!0})}},n.isFetching?"Loading recipe...":"Edit Recipe"):wp.element.createElement(k,{isDefault:!0,onClick:function(){n.setState({isOpen:!0}),n.setInitialTitle()}},"Create Recipe"),!n.isFetching&&n.attributes.id?wp.element.createElement("div",null,wp.element.createElement(u,{title:n.title,recipeId:n.attributes.id,onTitleChange:n.onTitleChange,isTitleEditable:!1,isImageEditable:!0,onImageChange:n.onImageChange,imageUrl:n.imageUrl,isFeaturedPostImage:n.isFeaturedPostImage}),wp.element.createElement(d,{ingredients:n.ingredients,onIngredientsChange:n.onIngredientsChange,onIngredientsPaste:n.onIngredientsPaste,editable:!1}),wp.element.createElement(g,{editable:!1,onInstructionsChange:n.onInstructionsChange,instructions:n.instructions,onInstructionsPaste:n.onInstructionsPaste}),wp.element.createElement(l,{editable:!1,onChange:n.onAuthorChange,selectedAuthor:n.author?n.author:n.settings.default_author,authors:n.settings.authors}),wp.element.createElement(h,{editable:!1,onCategoryChange:n.onCategoryChange,category:n.category,onCuisineChange:n.onCuisineChange,cuisine:n.cuisine}),wp.element.createElement(f,{editable:!1,onDescriptionChange:n.onDescriptionChange,description:n.description}),wp.element.createElement(b,{editable:!1,onPrepTimeHoursChange:n.onPrepTimeHoursChange,onPrepTimeMinutesChange:n.onPrepTimeMinutesChange,onCookTimeHoursChange:n.onCookTimeHoursChange,onCookTimeMinutesChange:n.onCookTimeMinutesChange,cookTimeHours:n.cookTimeHours,cookTimeMinutes:n.cookTimeMinutes,prepTimeHours:n.prepTimeHours,prepTimeMinutes:n.prepTimeMinutes}),wp.element.createElement(E,{onNotesChange:n.onNotesChange,notes:n.notes,editable:!1}),wp.element.createElement(v,{onServingsChange:n.onServingsChange,servings:n.servings,onServingSizeChange:n.onServingSizeChange,editable:!1,servingSize:n.servingSize}),wp.element.createElement(C,{onCaloriesChange:n.onCaloriesChange,editable:!1,calories:n.calories}),wp.element.createElement(w,{onCarbsChange:n.onCarbsChange,editable:!1,carbs:n.carbs}),wp.element.createElement(N,{onProteinChange:n.onProteinChange,editable:!1,protein:n.protein}),wp.element.createElement(S,{onFiberChange:n.onFiberChange,editable:!1,fiber:n.fiber}),wp.element.createElement(_,{onSugarChange:n.onSugarChange,editable:!1,sugar:n.sugar}),wp.element.createElement(z,{onSodiumChange:n.onSodiumChange,editable:!1,sodium:n.sodium}),wp.element.createElement(T,{onFatChange:n.onFatChange,editable:!1,fat:n.fat}),wp.element.createElement(y,{onSaturatedFatChange:n.onSaturatedFatChange,editable:!1,saturatedFat:n.saturatedFat}),wp.element.createElement(I,{onTransFatChange:n.onTransFatChange,editable:!1,transFat:n.transFat}),wp.element.createElement(F,{onCholesterolChange:n.onCholesterolChange,editable:!1,cholesterol:n.cholesterol})):"",n.isOpen?wp.element.createElement(P,{style:{maxWidth:"780px",height:"100%"},title:n.attributes.id?"Edit ".concat(n.title):"Create Recipe",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,isDismissable:!1,onRequestClose:function(){return n.setState({isOpen:!1})}},wp.element.createElement("div",{dangerouslySetInnerHTML:{__html:n.promos.author}}),wp.element.createElement(u,{recipeId:n.attributes.id,title:n.title,onTitleChange:n.onTitleChange,isTitleEditable:!0,isImageEditable:!1,onImageChange:n.onImageChange,imageUrl:n.imageUrl,isFeaturedPostImage:n.isFeaturedPostImage}),wp.element.createElement(d,{ingredients:n.ingredients,onIngredientsChange:n.onIngredientsChange,onIngredientsPaste:n.onIngredientsPaste,editable:!0}),wp.element.createElement(g,{editable:!0,onInstructionsChange:n.onInstructionsChange,instructions:n.instructions,onInstructionsPaste:n.onInstructionsPaste}),wp.element.createElement(l,{editable:!0,onChange:n.onAuthorChange,authors:n.settings.authors,selectedAuthor:n.author?n.author:n.settings.default_author}),wp.element.createElement(h,{editable:!0,onCategoryChange:n.onCategoryChange,category:n.category,onCuisineChange:n.onCuisineChange,cuisine:n.cuisine}),wp.element.createElement(f,{editable:!0,onDescriptionChange:n.onDescriptionChange,description:n.description}),wp.element.createElement(b,{editable:!0,onPrepTimeHoursChange:n.onPrepTimeHoursChange,onPrepTimeMinutesChange:n.onPrepTimeMinutesChange,onCookTimeHoursChange:n.onCookTimeHoursChange,onCookTimeMinutesChange:n.onCookTimeMinutesChange,cookTimeHours:n.cookTimeHours,cookTimeMinutes:n.cookTimeMinutes,prepTimeHours:n.prepTimeHours,prepTimeMinutes:n.prepTimeMinutes}),wp.element.createElement(E,{onNotesChange:n.onNotesChange,notes:n.notes,editable:!0}),wp.element.createElement(v,{onServingsChange:n.onServingsChange,servings:n.servings,onServingSizeChange:n.onServingSizeChange,editable:!0,servingSize:n.servingSize}),wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile zrdn-is-centered"},n.nutritionCalculationError?wp.element.createElement("span",{style:{fontSize:"0.75em"},className:"zrdn-help zrdn-is-danger",dangerouslySetInnerHTML:{__html:n.nutritionCalculationError}}):""),wp.element.createElement("div",{className:"zrdn-columns zrdn-is-mobile zrdn-is-centered"},wp.element.createElement("div",{className:"zrdn-buttons"},n.showNutritionFields?"":wp.element.createElement("button",{onClick:function(){n.setState({showNutritionFields:!0})},className:"zrdn-button zrdn-is-white"},"Enter Nutrition Data Manually"),wp.element.createElement("button",{onClick:n.onCalculateNutrition.bind(null,n.setState),className:e},"Automatically Calculate Nutrition"),n.showNutritionPromo?wp.element.createElement("div",{dangerouslySetInnerHTML:{__html:n.promos.nutrition}}):"")),n.showNutritionFields||n.nutritionLabelUrl?wp.element.createElement("div",null,n.nutritionLabelUrl?wp.element.createElement("div",{style:{marginBottom:"10px"}},wp.element.createElement("img",{style:{width:"30px",verticalAlign:"bottom"},src:n.settings.success_icon_url}),"Nutrition data has been calculated. Nutrition label is attached."):"",wp.element.createElement(C,{onCaloriesChange:n.onCaloriesChange,editable:!0,calories:n.calories}),wp.element.createElement(w,{onCarbsChange:n.onCarbsChange,editable:!0,carbs:n.carbs}),wp.element.createElement(N,{onProteinChange:n.onProteinChange,editable:!0,protein:n.protein}),wp.element.createElement(S,{onFiberChange:n.onFiberChange,editable:!0,fiber:n.fiber}),wp.element.createElement(_,{onSugarChange:n.onSugarChange,editable:!0,sugar:n.sugar}),wp.element.createElement(z,{onSodiumChange:n.onSodiumChange,editable:!0,sodium:n.sodium}),wp.element.createElement(T,{onFatChange:n.onFatChange,editable:!0,fat:n.fat}),wp.element.createElement(y,{onSaturatedFatChange:n.onSaturatedFatChange,editable:!0,saturatedFat:n.saturatedFat}),wp.element.createElement(I,{onTransFatChange:n.onTransFatChange,editable:!0,transFat:n.transFat}),wp.element.createElement(F,{onCholesterolChange:n.onCholesterolChange,editable:!0,cholesterol:n.cholesterol})):"",wp.element.createElement("div",{className:"bottom-bar"},wp.element.createElement(k,{isDefault:!0,onClick:n.onCancel.bind(null,n.setState)},"Cancel"),wp.element.createElement(k,{isPrimary:!0,isLarge:!0,isBusy:n.isSaving,onClick:n.onSave.bind(null,n.setAttributes,n.setState,n.attributes.id)},n.attributes.id?"Update Recipe":"Save Recipe"))):"")}))),save:function(e){return null}})},"./src/gutenberg/store/zip-recipes-store.jsx":function(e,t,n){"use strict";n.r(t);var r,i,a,s=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),o=n.n(s),l=n("./node_modules/@babel/runtime/helpers/typeof.js"),c=n.n(l),u=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),m=n.n(u),p=wp,d=p.data,g=p.apiFetch,h=d.registerStore,f=(d.withSelect,d.withDispatch,d.select,{recipe:{id:"",post_id:"",title:"",image_url:"",is_featured_post_image:!1,author:"",description:"",prep_time_hours:"",prep_time_minutes:"",cook_time_hours:"",cook_time_minutes:"",servings:"",serving_size:"",category:"",cuisine:"",ingredients:[],instructions:[],notes:"",nutrition_label:"",nutrition_label_attachment_id:null,nutrition_calculation_error:"",nutrition:{calories:"",carbs:"",protein:"",fiber:"",sugar:"",sodium:"",fat:"",saturated_fat:"",trans_fat:"",cholesterol:""}},isFetching:!1,isSaving:!1,isCalculatingNutrition:!1,settings:{wp_version:null,blog_url:null,registered:!0,registration_endpoint:"",recipes_endpoint:"",promos_endpoint:"",wp_ajax_endpoint:"",locale:"en",authors:[],default_author:""},promos:{},isRegistering:!1}),b="RECIPE_REQUEST",E="RECIPE_REQUEST_SUCCESS",v="RECIPE_SAVING",C="RECIPE_SAVE_SUCCESS",w="SET_TITLE",N="SET_IMAGE_URL",S="SET_IS_FEATURED_POST_IMAGE",_="SET_DESCRIPTION",z="SET_AUTHOR",T="SET_PREP_TIME_HOURS",y="SET_PREP_TIME_MINUTES",I="SET_COOK_TIME_HOURS",F="SET_COOK_TIME_MINUTES",R="SET_CATEGORY",x="SET_CUISINE",k="SET_INGREDIENTS",P="SET_INSTRUCTIONS",A="SET_NOTES",U="SET_SERVINGS",O="SET_SERVING_SIZE",M="SET_CALORIES",H="SET_CARBS",j="SET_PROTEIN",L="SET_FIBER",D="SET_SUGAR",G="SET_SODIUM",B="SET_FAT",V="SET_SATURATED_FAT",Z="SET_TRANS_FAT",q="SET_CHOLESTEROL",Q="SET_SETTINGS",Y="REGISTER_REQUEST",K="REGISTER_REQUEST_SUCCESS",W="SET_NUTRITION_LABEL_URL",$="SET_NUTRITION_LABEL_ATTACHMENT_ID",J="SET_NUTRITION_CALCULATION_ERROR",X="NUTRITION_CALCULATING",ee="NUTRITION_CALCULATING_SUCCESS",te="SET_PROMOS",ne={requestRecipe:function(){return{type:b}},requestRecipeSuccess:function(e){return{type:E}},setRegisteredBackend:regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"REGISTER_SEND_BACKEND",firstName:t,lastName:n,email:r};case 2:case"end":return e.stop()}},e,this)}),fetchNutritionData:regeneratorRuntime.mark(function e(t,n,r,i,a,s,o){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"FETCH_NUTRITION_DATA",endpoint:t,token:n,title:r,ingredients:i,servings:a,servingSize:s,locale:o};case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}},e,this)}),saveNutritionLabel:regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"SAVE_NUTRITION_LABEL",endpoint:t,nutrition_label_url:n,title:r};case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)}),register:regeneratorRuntime.mark(function e(t,n,r,i,a,s){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"REGISTER_SEND",endpoint:t,firstName:n,lastName:r,email:i,wpVersion:a,blogUrl:s};case 2:case"end":return e.stop()}},e,this)}),saveRecipe:regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.create,r=void 0!==n&&n,i=t.recipe,e.next=3,{type:"SEND_RECIPE",create:r,recipe:m()({},i)};case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}),saveImage:regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"SAVE_IMAGE_REQUEST",recipe:{id:t,image_url:n}};case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}),setRecipeSaving:function(){return{type:v}},saveRecipeSuccess:function(e){return{type:C,recipe:e}},setCalculatingNutrition:function(){return{type:X}},setCalculatingNutritionSuccess:function(){return{type:ee}},setId:function(e){return{type:"SET_ID",id:e}},setTitle:function(e){return{type:w,title:e}},setImageUrl:function(e){return{type:N,url:e}},setIsFeaturedPostImage:function(e){return{type:S,isFeaturedPostImage:e}},setAuthor:function(e){return{type:z,author:e}},setDescription:function(e){return{type:_,description:e}},setPrepTimeHours:function(e){return{type:T,prepTimeHours:e}},setPrepTimeMinutes:function(e){return{type:y,prepTimeMinutes:e}},setCookTimeHours:function(e){return{type:I,cookTimeHours:e}},setCookTimeMinutes:function(e){return{type:F,cookTimeMinutes:e}},setCategory:function(e){return{type:R,category:e}},setCuisine:function(e){return{type:x,cuisine:e}},setIngredients:function(e){return{type:k,ingredients:e}},setInstructions:function(e){return{type:P,instructions:e}},setNotes:function(e){return{type:A,notes:e}},setServings:function(e){return{type:U,servings:e}},setServingSize:function(e){return{type:O,servingSize:e}},setCalories:function(e){return{type:M,calories:e}},setCarbs:function(e){return{type:H,carbs:e}},setProtein:function(e){return{type:j,protein:e}},setFiber:function(e){return{type:L,fiber:e}},setSugar:function(e){return{type:D,sugar:e}},setSodium:function(e){return{type:G,sodium:e}},setFat:function(e){return{type:B,fat:e}},setSaturatedFat:function(e){return{type:V,saturatedFat:e}},setTransFat:function(e){return{type:Z,transFat:e}},setCholesterol:function(e){return{type:q,cholesterol:e}},fetchFromAPI:function(e){return{type:"FETCH_FROM_API",path:e}},fetchSettings:function(e){return{type:"FETCH_SETTINGS",path:e}},setSettings:function(e){return{type:Q,settings:e}},setIsRegistering:function(){return{type:Y}},setIsRegisteringSuccess:function(){return{type:K}},setNutritionLabelUrl:regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:W,nutritionLabelUrl:t};case 2:case"end":return e.stop()}},e,this)}),setNutritionLabelAttachmentId:regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:$,attachmentId:t};case 2:case"end":return e.stop()}},e,this)}),setNutritionCalculationError:function(e){return{type:J,message:e}},fetchPromos:function(e,t){return{type:"FETCH_PROMOS",endpoint:e,blogUrl:t}},setPromos:function(e){return{type:te,promos:e}}};h("zip-recipes-store",{reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Y:return m()({},e,{isRegistering:!0});case K:return m()({},e,{isRegistering:!1,settings:m()({},e.settings,{registered:!0})});case b:return m()({},e,{isFetching:!0});case E:return m()({},e,{isFetching:!1});case v:return m()({},e,{isSaving:!0});case C:return m()({},e,{isSaving:!1});case"SET_RECIPE":return m()({},e,{recipe:t.recipe});case"SET_ID":return m()({},e,{recipe:m()({},e.recipe,{id:t.id})});case w:return m()({},e,{recipe:m()({},e.recipe,{title:t.title})});case N:return m()({},e,{recipe:m()({},e.recipe,{image_url:t.url})});case S:return m()({},e,{recipe:m()({},e.recipe,{is_featured_post_image:t.isFeaturedPostImage})});case _:return m()({},e,{recipe:m()({},e.recipe,{description:t.description})});case z:return m()({},e,{recipe:m()({},e.recipe,{author:t.author})});case T:return m()({},e,{recipe:m()({},e.recipe,{prep_time_hours:t.prepTimeHours})});case y:return m()({},e,{recipe:m()({},e.recipe,{prep_time_minutes:t.prepTimeMinutes})});case I:return m()({},e,{recipe:m()({},e.recipe,{cook_time_hours:t.cookTimeHours})});case F:return m()({},e,{recipe:m()({},e.recipe,{cook_time_minutes:t.cookTimeMinutes})});case O:return m()({},e,{recipe:m()({},e.recipe,{serving_size:t.servingSize})});case R:return m()({},e,{recipe:m()({},e.recipe,{category:t.category})});case x:return m()({},e,{recipe:m()({},e.recipe,{cuisine:t.cuisine})});case k:var n=t.ingredients;return c()(t.ingredients)==c()("")&&(n=t.ingredients.split("\n")),m()({},e,{recipe:m()({},e.recipe,{ingredients:n})});case P:var r=t.instructions;return c()(t.instructions)==c()("")&&(r=t.instructions.split("\n")),m()({},e,{recipe:m()({},e.recipe,{instructions:r})});case A:return m()({},e,{recipe:m()({},e.recipe,{notes:t.notes})});case U:return m()({},e,{recipe:m()({},e.recipe,{servings:t.servings})});case M:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{calories:t.calories})})});case H:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{carbs:t.carbs})})});case j:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{protein:t.protein})})});case L:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{fiber:t.fiber})})});case D:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{sugar:t.sugar})})});case G:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{sodium:t.sodium})})});case B:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{fat:t.fat})})});case V:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{saturated_fat:t.saturatedFat})})});case Z:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{trans_fat:t.transFat})})});case q:return m()({},e,{recipe:m()({},e.recipe,{nutrition:m()({},e.recipe.nutrition,{cholesterol:t.cholesterol})})});case Q:return m()({},e,{settings:t.settings});case W:return m()({},e,{recipe:m()({},e.recipe,{nutrition_label:t.nutritionLabelUrl})});case $:return m()({},e,{recipe:m()({},e.recipe,{nutrition_label_attachment_id:t.attachmentId})});case J:return m()({},e,{recipe:m()({},e.recipe,{nutrition_calculation_error:t.message})});case X:return m()({},e,{isCalculatingNutrition:!0});case ee:return m()({},e,{isCalculatingNutrition:!1});case te:return m()({},e,{promos:t.promos})}return e},actions:ne,selectors:{getRecipe:function(e,t){return e.recipe},getCategory:function(e){return e.recipe.category},getCuisine:function(e){return e.recipe.cuisine},getDescription:function(e){return e.recipe.description},getAuthor:function(e){return e.recipe.author},getId:function(e){return e.recipe.id},getTitle:function(e){return e.recipe.title},getNotes:function(e){return e.recipe.notes},getIngredients:function(e){return e.recipe.ingredients},getInstructions:function(e){return e.recipe.instructions},getImageUrl:function(e){return e.recipe.image_url},getIsFeaturedPostImage:function(e){return e.recipe.is_featured_post_image},getPrepTimeHours:function(e){return e.recipe.prep_time_hours},getPrepTimeMinutes:function(e){return e.recipe.prep_time_minutes},getCookTimeHours:function(e){return e.recipe.cook_time_hours},getCookTimeMinutes:function(e){return e.recipe.cook_time_minutes},getServings:function(e){return e.recipe.servings},getServingSize:function(e){return e.recipe.serving_size},getCalories:function(e){return e.recipe.nutrition.calories},getCarbs:function(e){return e.recipe.nutrition.carbs},getProtein:function(e){return e.recipe.nutrition.protein},getFiber:function(e){return e.recipe.nutrition.fiber},getSugar:function(e){return e.recipe.nutrition.sugar},getSodium:function(e){return e.recipe.nutrition.sodium},getFat:function(e){return e.recipe.nutrition.fat},getSaturatedFat:function(e){return e.recipe.nutrition.saturated_fat},getTransFat:function(e){return e.recipe.nutrition.trans_fat},getCholesterol:function(e){return e.recipe.nutrition.cholesterol},getIsSaving:function(e){return e.isSaving},getIsFetching:function(e){return e.isFetching},getSettings:function(e){return e.settings},getIsRegistering:function(e){return e.isRegistering},getIsNutritionCalculation:function(e){return e.isCalculatingNutrition},getNutritionLabelUrl:function(e){return e.recipe.nutrition_label},getNutritionLabelAttachmentId:function(e){return e.recipe.nutrition_label_attachment_id},getNutritionCalculationError:function(e){return e.recipe.nutrition_calculation_error},getPromos:function(e,t,n){return e.promos}},controls:{FETCH_PROMOS:(a=o()(regeneratorRuntime.mark(function e(t){var n,r,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat(t.endpoint,"?blog_url=").concat(t.blogUrl),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin"});case 2:return n=e.sent,e.prev=3,e.next=6,n.json();case 6:return r=e.sent,i=r.results.filter(function(e){return 3==e.id}).map(function(e){return e.html})[0],a=r.results.filter(function(e){return 4==e.id}).map(function(e){return e.html})[0],s={author:i,nutrition:a},e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(3),e.t0;case 16:case"end":return e.stop()}},e,this,[[3,13]])})),function(e){return a.apply(this,arguments)}),FETCH_NUTRITION_DATA:(i=o()(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(t.endpoint,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Token "+t.token,"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({ingredients:t.ingredients,title:t.title,servings:t.servings,servings_unit:t.servingsSize,language:t.locale})});case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,n.ok)return e.abrupt("return",r);e.next=10;break;case 10:if(r)throw i=Object.keys(r).map(function(e){return"".concat(e,": ").concat(r[e])}).join(","),Error(i);e.next=15;break;case 15:throw n;case 16:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),SAVE_NUTRITION_LABEL:(r=o()(regeneratorRuntime.mark(function e(t){var n,r,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:"save_nutrition_label",image_url:t.nutrition_label_url,recipe_title:t.title},r=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"),e.next=4,window.fetch(t.endpoint,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:r});case 4:return i=e.sent,e.next=7,i.json();case 7:if(a=e.sent,i.ok)return e.abrupt("return",a);e.next=12;break;case 12:if(a)throw s=Object.keys(a).map(function(e){return"".concat(e,": ").concat(a[e])}).join(","),Error(s);e.next=17;break;case 17:throw i;case 18:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),REGISTER_SEND_BACKEND:function(e){return g({path:"/zip-recipes/v1/register",method:"POST",data:{first_name:e.firstName,last_name:e.lastName,email:e.email}})},REGISTER_SEND:function(e){var t={first_name:e.firstName,last_name:e.lastName,email:e.email,wp_version:e.wpVersion,blog_url:e.blogUrl},n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");return window.fetch(e.endpoint,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:n})},SEND_RECIPE:function(e){var t=null;return e.create&&e.recipe.title&&e.recipe.post_id?t=g({path:"/zip-recipes/v1/recipe",method:"POST",data:m()({},e.recipe)}):e.recipe.id&&(t=g({path:"/zip-recipes/v1/recipe/".concat(e.recipe.id),method:"POST",data:m()({},e.recipe)})),t},SAVE_IMAGE_REQUEST:function(e){var t=null;return e.recipe.id&&e.recipe.image_url&&(t=g({path:"/zip-recipes/v1/recipe/".concat(e.recipe.id),method:"POST",data:{image_url:e.recipe.image_url}})),t},FETCH_FROM_API:function(e){return g({path:e.path})},FETCH_SETTINGS:function(e){return g({path:e.path})}},resolvers:{getPromos:regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.fetchPromos(t,n);case 2:return r=e.sent,e.next=5,ne.setPromos(r);case 5:case"end":return e.stop()}},e,this)}),getSettings:regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/zip-recipes/v1/settings",e.next=3,ne.fetchSettings("/zip-recipes/v1/settings");case 3:return t=e.sent,e.next=6,ne.setSettings(t);case 6:case"end":return e.stop()}},e,this)}),getRecipe:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return n="/zip-recipes/v1/recipe/".concat(t),e.next=4,ne.requestRecipe();e.next=62;break;case 4:return e.next=6,ne.fetchFromAPI(n);case 6:return r=e.sent,e.next=9,ne.requestRecipeSuccess();case 9:return e.next=11,ne.setTitle(r.title);case 11:return e.next=13,ne.setImageUrl(r.image_url);case 13:return e.next=15,ne.setIsFeaturedPostImage(r.is_featured_post_image);case 15:return e.next=17,ne.setNutritionLabelUrl(r.nutrition_label);case 17:return e.next=19,ne.setDescription(r.description);case 19:return e.next=21,ne.setAuthor(r.author);case 21:return e.next=23,ne.setCategory(r.category);case 23:return e.next=25,ne.setCuisine(r.cuisine);case 25:return e.next=27,ne.setIngredients(r.ingredients);case 27:return e.next=29,ne.setInstructions(r.instructions);case 29:return e.next=31,ne.setPrepTimeHours(r.prep_time_hours);case 31:return e.next=33,ne.setPrepTimeMinutes(r.prep_time_minutes);case 33:return e.next=35,ne.setCookTimeHours(r.cook_time_hours);case 35:return e.next=37,ne.setCookTimeMinutes(r.cook_time_minutes);case 37:return e.next=39,ne.setServings(r.servings);case 39:return e.next=41,ne.setServingSize(r.serving_size);case 41:return e.next=43,ne.setNotes(r.notes);case 43:return e.next=45,ne.setCalories(r.nutrition.calories);case 45:return e.next=47,ne.setCarbs(r.nutrition.carbs);case 47:return e.next=49,ne.setProtein(r.nutrition.protein);case 49:return e.next=51,ne.setFiber(r.nutrition.fiber);case 51:return e.next=53,ne.setSugar(r.nutrition.sugar);case 53:return e.next=55,ne.setSodium(r.nutrition.sodium);case 55:return e.next=57,ne.setFat(r.nutrition.fat);case 57:return e.next=59,ne.setSaturatedFat(r.nutrition.saturated_fat);case 59:return e.next=61,ne.setTransFat(r.nutrition.trans_fat);case 61:return e.abrupt("return",ne.setCholesterol(r.nutrition.cholesterol));case 62:case"end":return e.stop()}},e,this)})}}),t.default={actions:ne}}});